# ğŸ§µ Analisis Implementasi Thread dalam Berbagai Platform

## ğŸ“‹ Abstrak

Dokumen ini menyajikan analisis mendalam mengenai implementasi thread pada tiga platform berbeda: Java dengan Fork/Join Framework, sistem operasi Linux menggunakan POSIX threads, dan Microsoft Windows dengan Win32 API. Analisis dilakukan berdasarkan source code yang tersedia di repository GitHub `ferryastika/osc10e/tree/master/ch4`.

## ğŸ› ï¸ Persiapan Lingkungan

Sebelum memulai analisis, diperlukan pengunduhan source code dari repository resmi:

```bash
git clone https://github.com/ferryastika/osc10e.git
cd osc10e/ch4
```

Repository ini berisi tiga file utama yang akan dianalisis: `SumTask.java`, `thrd-posix.c`, dan `thrd-win32.c`.

## â˜• Implementasi Thread dalam Java: Fork/Join Framework

### ğŸ—ï¸ Arsitektur dan Desain

Program `SumTask.java` mengimplementasikan paradigma **divide-and-conquer** melalui Fork/Join Framework yang diperkenalkan dalam Java 7. Framework ini dirancang khusus untuk menangani parallel processing dengan efisien pada multicore processors.

Kelas `SumTask` mewarisi dari `RecursiveTask<Integer>`, yang memungkinkan task untuk dibagi menjadi subtask yang lebih kecil dan dieksekusi secara paralel. Implementasi ini menggunakan dua konstanta penting:

- ğŸ“ `SIZE = 10000`: Ukuran array yang akan diproses
- ğŸ¯ `THRESHOLD = 1000`: Batas minimum untuk pembagian task

### âš™ï¸ Mekanisme Kerja

Algoritma bekerja dengan prinsip rekursif:

1. **ğŸ”€ Divide Phase**: Jika ukuran data melebihi threshold, task dibagi menjadi dua subtask
2. **âš”ï¸ Conquer Phase**: Jika ukuran di bawah threshold, perhitungan dilakukan secara langsung
3. **ğŸ”— Combine Phase**: Hasil dari subtask digabungkan menggunakan method `join()`

### ğŸš€ Eksekusi dan Hasil

```bash
javac SumTask.java
java SumTask
```

**ğŸ“¤ Output**: `The sum is 44685`

### ğŸ“Š Evaluasi Kinerja

Fork/Join Framework memberikan keunggulan dalam:
- **ğŸ”„ Work Stealing**: Thread yang idle dapat "mencuri" task dari thread lain
- **âš–ï¸ Automatic Load Balancing**: Distribusi beban kerja dilakukan secara otomatis
- **ğŸ“ˆ Scalability**: Performa meningkat seiring bertambahnya core processor

## ğŸ§ Implementasi Thread dalam Linux: POSIX Threads

### ğŸ”§ Paradigma POSIX Threads

Program `thrd-posix.c` mendemonstrasikan implementasi thread pada sistem Unix-like menggunakan POSIX thread library (pthreads). Implementasi ini mengikuti standar POSIX yang memastikan portabilitas across different Unix systems.

### ğŸ›ï¸ Struktur Program

Program terdiri dari beberapa komponen utama:

- **ğŸŒ Global Variable**: `int sum` sebagai shared memory antara main thread dan worker thread
- **ğŸƒ Thread Function**: `runner()` yang melakukan perhitungan summation
- **ğŸ® Main Function**: Mengelola lifecycle thread dan sinkronisasi

### ğŸ”„ Alur Eksekusi

1. **ğŸš€ Initialization**: `pthread_attr_init()` menginisialisasi thread attributes
2. **ğŸ› ï¸ Thread Creation**: `pthread_create()` membuat thread baru
3. **ğŸ¤ Synchronization**: `pthread_join()` menunggu thread completion
4. **ğŸ Termination**: `pthread_exit()` mengakhiri thread execution

### ğŸ’» Eksekusi dan Hasil

```bash
gcc thrd-posix.c -o thrd-posix -lpthread
./thrd-posix 5
./thrd-posix 8
```

**ğŸ“¤ Output**:
```
sum = 15
sum = 36
```

### ğŸ” Analisis Teknis

POSIX threads menyediakan:
- **ğŸ›ï¸ Low-level Control**: Kontrol penuh atas thread lifecycle
- **ğŸ’¾ Memory Sharing**: Akses langsung ke shared memory
- **ğŸŒ Cross-platform Compatibility**: Dapat berjalan di berbagai sistem Unix-like

## ğŸªŸ Implementasi Thread dalam Windows: Win32 API

### ğŸ¢ Arsitektur Win32 Threading

Program `thrd-win32.c` menggunakan Win32 API untuk implementasi thread pada platform Windows. Pendekatan ini berbeda secara fundamental dari POSIX threads, menggunakan Windows-specific functions dan data types.

### ğŸ§© Komponen Utama

- **ğŸ“Š Data Types**: Menggunakan `DWORD` untuk integer values dan `HANDLE` untuk object references
- **âš¡ Thread Function**: `Summation()` dengan signature Win32-specific
- **ğŸ”„ Synchronization**: `WaitForSingleObject()` untuk thread synchronization

### ğŸ”„ Alur Eksekusi

1. **âœ… Parameter Validation**: Validasi input arguments
2. **ğŸ› ï¸ Thread Creation**: `CreateThread()` dengan parameter lengkap
3. **ğŸ¤ Synchronization**: `WaitForSingleObject()` menunggu completion
4. **ğŸ§¹ Resource Management**: `CloseHandle()` untuk cleanup resources

### ğŸ’» Eksekusi dan Hasil

```bash
gcc thrd-win32.c -o thrd-win32.exe
.\thrd-win32.exe 5
.\thrd-win32.exe 8
```

**ğŸ“¤ Output**:
```
sum = 15
sum = 36
```

### ğŸŒŸ Karakteristik Win32 Threading

Win32 API menawarkan:
- **ğŸ¯ Rich API Set**: Comprehensive threading primitives
- **ğŸ”§ Fine-grained Control**: Detailed control over thread parameters
- **ğŸ”— Windows Integration**: Seamless integration dengan Windows kernel

## ğŸ“Š Analisis Komparatif

### âš–ï¸ Perbandingan Paradigma

| Aspek | â˜• Java Fork/Join | ğŸ§ POSIX Threads | ğŸªŸ Win32 Threads |
|-------|----------------|---------------|---------------|
| **ğŸ—ï¸ Abstraction Level** | High-level | Low-level | Low-level |
| **ğŸ§© Complexity** | Minimal | Moderate | Moderate |
| **âš¡ Performance** | Optimized | Flexible | Platform-specific |
| **ğŸŒ Portability** | Cross-platform | Unix-like only | Windows only |

### ğŸ¯ Kasus Penggunaan

- **â˜• Java Fork/Join**: Ideal untuk CPU-intensive tasks dengan divide-and-conquer pattern
- **ğŸ§ POSIX Threads**: Cocok untuk system programming dan aplikasi yang memerlukan kontrol detail
- **ğŸªŸ Win32 Threads**: Optimal untuk aplikasi Windows-native dengan integrasi sistem mendalam

## ğŸ¯ Kesimpulan

Ketiga implementasi thread menunjukkan pendekatan berbeda dalam menyelesaikan masalah parallel computing:

1. **â˜• Java Fork/Join Framework** menyediakan abstraksi tingkat tinggi yang memudahkan developer dalam mengimplementasikan parallel algorithms tanpa perlu mengelola thread secara manual.

2. **ğŸ§ POSIX Threads** memberikan kontrol penuh kepada developer dengan API yang konsisten across Unix-like systems, cocok untuk aplikasi yang memerlukan fine-grained control.

3. **ğŸªŸ Win32 Threads** menawarkan integrasi mendalam dengan Windows operating system, memungkinkan pemanfaatan fitur-fitur Windows-specific.

Pemilihan implementasi thread bergantung pada kebutuhan spesifik aplikasi, target platform, dan tingkat kontrol yang diperlukan. Setiap pendekatan memiliki trade-off antara kemudahan penggunaan, performa, dan portabilitas.

## ğŸ“š Referensi

- ğŸ”— Repository Source Code: [https://github.com/ferryastika/osc10e/tree/master/ch4](https://github.com/ferryastika/osc10e/tree/master/ch4)
- ğŸ“– Operating System Concepts, 10th Edition - Silberschatz, Galvin, Gagne
- â˜• Java Concurrency in Practice - Brian Goetz
- ğŸ§ POSIX Threads Programming - Blaise Barney
